(this.webpackJsonpchatify=this.webpackJsonpchatify||[]).push([[0],{147:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(16),l=a.n(c),i=(a(147),a(228)),s=a(239),r=a(238),d=a(231),j=a(252),b=a(249),p=a(229),h=a(116),m=a.n(h),x=a(236),u=a(68),g=a(8),O=a(18),f=a(117),v=a.n(f),y=a(240),C=a(127),N=a(234),k=a(251),S=a(237),w=a(235),T=a(225),I=a(173),D=a(232),B=a(230),L=a(233),E=a(114),R=a.n(E),z=a(115),A=a.n(z),M=a(112),U=a.n(M),W=a(48);a(148),a(169),a(170);const H=new W.a.auth.GoogleAuthProvider,F=W.a.initializeApp({apiKey:"AIzaSyDoN-nSGUo_1h87nkOXSXX2vv4IBXBXey0",authDomain:"chatify-49.firebaseapp.com",projectId:"chatify-49",storageBucket:"chatify-49.appspot.com",messagingSenderId:"1034185885241",appId:"1:1034185885241:web:a46af138b7a40d318defe8",measurementId:"G-EHQ2YBVYY9"}).firestore(),P=W.a.auth(),G=W.a.storage();var J=a(22),Y=a(113),q=a(82),X=a(227),_=a(219),K=a(226),Q=a(223),V=a(247),Z=a(222),$=a(4);var ee=function(e){let{create:t,manage:a}=e;const[o,c]=Object(n.useState)(!0),[l,i]=Object(n.useState)(""),s=()=>{c(!1),a()},r=e=>{e.preventDefault(),l&&(t(l),a())};return Object($.jsx)("div",{children:Object($.jsxs)(_.a,{open:o,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object($.jsx)(Z.a,{id:"alert-dialog-title",children:"Create A New Channel"}),Object($.jsx)(Q.a,{children:Object($.jsx)("form",{autoComplete:"off",onSubmit:r,children:Object($.jsx)(V.a,{id:"outlined-basic",label:"Enter Channel Name",fullWidth:!0,margin:"normal",variant:"outlined",required:!0,value:l,style:{backgroundColor:"rgb(45 45 73)",borderRadius:"5px"},onChange:e=>{i(e.target.value)}})})}),Object($.jsxs)(K.a,{children:[Object($.jsx)(X.a,{onClick:s,color:"primary",style:{color:"white"},children:"Cancel"}),Object($.jsx)(X.a,{onClick:e=>{r(e)},type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Create"})]})]})})},te=a(129),ae=a(250),ne=a(81),oe=a.n(ne);const ce=Object(i.a)((e=>({nested:{paddingLeft:e.spacing(4)},iconDesign:{fontSize:"1.5em",color:"#cb43fc"},primary:{color:"#cb43fc"}})));var le=function(){const e=ce(),[t,a]=o.a.useState(!0),[c,l]=Object(n.useState)([]),[i,s]=Object(n.useState)(!1),r=Object(J.f)(),[j,b]=Object(n.useState)(!1);Object(n.useEffect)((()=>{F.collection("channels").orderBy("channelName","asc").onSnapshot((e=>{l(e.docs.map((e=>({channelName:e.data().channelName,id:e.id}))))}))}),[]);const h=()=>{s(!i)},m=()=>{b(!j)};return Object($.jsxs)("div",{children:[Object($.jsx)(ae.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:j,onClose:m,TransitionComponent:te.a,message:"Room Name Already Exits!!",action:Object($.jsx)(p.a,{"aria-label":"close",color:"inherit",onClick:m,children:Object($.jsx)(oe.a,{})})},te.a),i?Object($.jsx)(ee,{create:e=>{if(e){if(""===(e=e.toLowerCase().trim()))return void m();for(var t=0;t<c.length;t++)if(e===c[t].channelName)return void m();F.collection("channels").add({channelName:e.toLowerCase()}).then((e=>{console.log("added new channel")})).then((e=>{console.log(e)}))}},manage:h}):null,Object($.jsxs)(I.a,{style:{paddingTop:0,paddingBottom:0},children:[Object($.jsx)(B.a,{primary:"Create New Channel"}),Object($.jsx)(p.a,{edge:"end","aria-label":"add",onClick:h,children:Object($.jsx)(U.a,{className:e.primary})})]}),Object($.jsx)(d.a,{}),Object($.jsxs)(T.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[Object($.jsxs)(I.a,{button:!0,onClick:()=>{a(!t)},children:[Object($.jsx)(D.a,{children:Object($.jsx)(Y.a,{className:e.iconDesign})}),Object($.jsx)(B.a,{primary:"CHANNELS",style:{color:"#8e9297"}}),t?Object($.jsx)(R.a,{className:e.primary}):Object($.jsx)(A.a,{className:e.primary})]}),Object($.jsx)(L.a,{in:t,timeout:"auto",children:Object($.jsx)(T.a,{component:"div",disablePadding:!0,children:c.map((t=>Object($.jsxs)(I.a,{button:!0,className:e.nested,onClick:()=>{return e=t.id,void r.push("/channel/".concat(e));var e},children:[Object($.jsx)(D.a,{style:{minWidth:"30px"},children:Object($.jsx)(q.a,{className:e.iconDesign,style:{color:"#b9bbbe"}})}),Object($.jsx)(B.a,{primary:t.channelName===t.channelName.substr(0,12)?t.channelName:"".concat(t.channelName.substr(0,12),"..."),style:{color:"#dcddde"}})]},t.id)))})})]})]})},ie=a(119),se=a(118),re=a(46);var de=function(e){let{toggler:t,alert:a}=e;const[o,c]=Object(n.useState)(!0),[l,i]=Object(n.useState)(""),[s,r]=Object(n.useState)(""),[d,j]=Object(n.useState)(""),[b,p]=Object(n.useState)(""),h=()=>{c(!1),t()};return Object(n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userDetails"));i(e.name),r(e.displayName),j(e.email),p(e.uid)}),[]),Object($.jsx)("div",{children:Object($.jsxs)(_.a,{open:o,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object($.jsx)(Z.a,{id:"form-dialog-title",children:"Edit User Profile"}),Object($.jsx)(Q.a,{children:Object($.jsxs)("form",{autoComplete:"off",children:[Object($.jsx)(V.a,{id:"outlined-basic",label:"Name",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:l,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object($.jsx)(V.a,{id:"outlined-basic",label:"Email",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:d,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object($.jsx)(V.a,{id:"outlined-basic",label:"Display Name",fullWidth:!0,margin:"normal",variant:"outlined",value:s,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:e=>{r(e.target.value)}})]})}),Object($.jsxs)(K.a,{children:[Object($.jsx)(X.a,{onClick:h,style:{color:"white"},children:"Cancel"}),Object($.jsx)(X.a,{onClick:e=>(e=>{e.preventDefault(),F.collection("users").doc(b).update({displayName:s}).then((e=>{a()})).catch((e=>{console.log(e)})),c(!1),t()})(e),color:"primary",variant:"contained",children:"Update"})]})]})})};const je=240,be=Object(g.a)((e=>({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})))(N.a),pe=Object(i.a)((e=>({root:{display:"flex"},avatarGrid:{paddingTop:"20px",paddingLeft:"5px",paddingBottom:"20px",color:"#dcddde"},avatarIcon:{display:"flex",paddingLeft:"10px",paddingRight:"10px"},avatarName:{fontSize:"1em",paddingLeft:"12px",paddingTop:"8px"},avatarDisplayName:{alignSelf:"center",paddingLeft:"10px",fontWeight:"600"},purple:{color:e.palette.getContrastText(w.a[500]),backgroundColor:"#3f51b5"},drawer:{[e.breakpoints.up("sm")]:{width:je,flexShrink:0}},appBar:{[e.breakpoints.up("sm")]:{width:"calc(100% - ".concat(je,"px)"),marginLeft:je},backgroundColor:"#22273b",color:"#dcddde",boxShadow:"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);"},menuButton:{marginRight:e.spacing(2),[e.breakpoints.up("sm")]:{display:"none"}},toolbar:e.mixins.toolbar,drawerPaper:{width:je,backgroundColor:"#171c2e",color:"white"},sideToolBar:{backgroundColor:"#171c2e",color:"#fff",lineHeight:1.6,boxShadow:"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);",minHeight:"50px"},sideToolBarText:{letterSpacing:"0.2em",fontWeight:"900"},title:{flexGrow:1}})));var he=function(e){const{window:t,uid:a}=e,c=pe(),l=Object(O.a)(),[i,h]=o.a.useState(!1),[g,f]=o.a.useState(null),[N,w]=Object(n.useState)([]),[T,I]=Object(n.useState)(!1),[D,B]=Object(n.useState)(!1),L=Boolean(g);Object(n.useEffect)((()=>{F.collection("users").doc(a).onSnapshot((e=>{w(e.data()),localStorage.setItem("userDetails",JSON.stringify(e.data()))}))}),[a]);const E=()=>{h(!i)},R=()=>{I(!T)},z=()=>{B(!D)},A=N&&Object($.jsxs)("div",{children:[Object($.jsx)(x.a,{className:c.sideToolBar,children:Object($.jsx)(u.a,{variant:"h6",className:c.sideToolBarText,children:"CHATIFY"})}),Object($.jsx)(d.a,{}),Object($.jsxs)(S.a,{className:c.avatarGrid,children:[Object($.jsxs)("div",{className:c.avatarIcon,children:[Object($.jsx)(be,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object($.jsx)(k.a,{alt:N.name,src:N.photoURL,className:c.purple})}),Object($.jsx)(u.a,{variant:"h6",className:c.avatarDisplayName,children:N.displayName})]}),Object($.jsxs)("div",{children:[Object($.jsx)(u.a,{variant:"h4",className:c.avatarName,children:N.name}),Object($.jsx)(u.a,{variant:"h4",className:c.avatarName,children:N.email})]})]}),Object($.jsx)(d.a,{}),Object($.jsx)(le,{}),Object($.jsx)(d.a,{})]}),M=void 0!==t?()=>t().document.body:void 0;return Object($.jsxs)("div",{className:c.root,children:[Object($.jsx)(r.a,{}),Object($.jsx)(ae.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:D,onClose:z,TransitionComponent:te.a,message:"Display Name Updated Successfully",action:Object($.jsx)(p.a,{"aria-label":"close",color:"inherit",onClick:z,children:Object($.jsx)(oe.a,{})})},te.a),T?Object($.jsx)(de,{toggler:R,alert:z}):null,Object($.jsx)(s.a,{position:"fixed",className:c.appBar,children:Object($.jsxs)(x.a,{style:{minHeight:"50px"},children:[Object($.jsx)(p.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:E,className:c.menuButton,children:Object($.jsx)(m.a,{})}),Object($.jsx)(u.a,{variant:"h6",className:c.title,children:Object($.jsx)(re.b,{to:"/",style:{textDecoration:"none",color:"#dcddde"},children:"Home"})}),Object($.jsxs)("div",{children:[Object($.jsx)(p.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{f(e.currentTarget)},color:"inherit",children:Object($.jsx)(v.a,{})}),Object($.jsxs)(C.a,{id:"menu-appbar",anchorEl:g,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:L,onClose:()=>{f(null)},children:[Object($.jsxs)(y.a,{onClick:R,children:[Object($.jsx)(se.a,{})," \xa0 Edit Profile"]}),Object($.jsxs)(y.a,{onClick:()=>{P.signOut().then((()=>{console.log("signed out"),localStorage.clear()})).catch((e=>{console.log(e)}))},children:[Object($.jsx)(ie.a,{})," \xa0 Sign Out of Chatify"]})]})]})]})}),Object($.jsxs)("nav",{className:c.drawer,"aria-label":"chat rooms",children:[Object($.jsx)(b.a,{smUp:!0,implementation:"css",children:Object($.jsx)(j.a,{container:M,variant:"temporary",anchor:"rtl"===l.direction?"right":"left",open:i,onClose:E,classes:{paper:c.drawerPaper},ModalProps:{keepMounted:!0},children:A})}),Object($.jsx)(b.a,{xsDown:!0,implementation:"css",children:Object($.jsx)(j.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0,children:A})})]})]})},me=a(40),xe=a(241);var ue=function(e){let{msgId:t,text:a,deleteMsg:o,handleModal:c,postImg:l}=e;const[i,s]=Object(n.useState)(!0),r=()=>{s(!1),c()};return Object($.jsx)("div",{children:Object($.jsxs)(_.a,{open:i,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object($.jsx)(Z.a,{id:"alert-dialog-title",children:"Are you sure you want to delete the message?"}),Object($.jsxs)(Q.a,{children:[Object($.jsx)(xe.a,{id:"alert-dialog-description",style:{color:"white",fontSize:"1.2rem"},children:a}),l?Object($.jsx)("img",{src:l,alt:"img",style:{height:"200px",width:"250px",borderRadius:"4px"}}):null]}),Object($.jsxs)(K.a,{children:[Object($.jsx)(X.a,{onClick:r,style:{color:"white"},children:"Cancel"}),Object($.jsx)(X.a,{onClick:()=>{o(t),c()},color:"primary",autoFocus:!0,variant:"contained",children:"Delete"})]})]})})},ge=a(120);const Oe=Object(i.a)((e=>({root:{flexGrow:1,position:"relative",padding:"8px"},paper:{padding:"10px","&:hover":{backgroundColor:"#1f2436"}},avatar:{display:"inline-block",verticalAlign:"top"},chat:{display:"inline-block",paddingLeft:"1rem",width:"calc(100% - 50px)",wordBreak:"break-all"},chatHeading:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",fontSize:"1rem",fontWeight:"600",color:"white"},chatTimming:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",paddingLeft:"0.5em",color:"white"},chatText:{color:"#dcddde"},purple:{color:e.palette.getContrastText(w.a[500]),backgroundColor:"#3f51b5"},emojiDiv:{position:"absolute",right:0,top:0},emojiDivInner:{position:"absolute",right:0,padding:"0 35px 0 32px"},emojiBtn:{fontSize:"1.1rem",color:"rgb(255 195 54)"},allEmoji:{backgroundColor:"#2d2e31ba",borderRadius:"5px",paddingLeft:"2px",paddingRight:"2px",display:"flex"},countEmojiBtn:{padding:"3px",borderRadius:"4px",fontSize:"0.8em",backgroundColor:"#ffffff4a",color:"#cacaca",paddingLeft:"5px",paddingRight:"5px","&:hover":{backgroundColor:"#ffffff4a",color:"#e7e7e7"}}})));var fe=function(e){let{values:t,msgId:a}=e;const[o,c]=Object(n.useState)({display:"none"}),[l,i]=Object(n.useState)(!1),s=Oe(),r=JSON.parse(localStorage.getItem("userDetails")).uid,d=t.uid,j=t.timestamp.toDate(),b=j.getDate(),h=j.getFullYear(),m=j.getMonth(),x=j.getHours(),u=j.getMinutes(),g="".concat(b,"/").concat(m,"/").concat(h,"   ").concat(x,":").concat(u),O=t.likeCount,f=t.fireCount,v=t.heartCount,y=t.likes[r],C=t.fire[r],N=t.heart[r],w=t.postImg,T=Object(J.g)().id,I=y?{color:"#8ff879",backgroundColor:"#545454"}:null,D=N?{color:"#ff527d",backgroundColor:"#545454"}:null,B=C?{color:"#ffc336",backgroundColor:"#545454"}:null,L=()=>{i(!l)},E=()=>{const e=F.collection("channels").doc(T).collection("messages").doc(a);return N?F.runTransaction((t=>t.get(e).then((a=>{if(!a)return void console.log("doc not found");let n=a.data().heartCount-1,o=a.data().heart?a.data().heart:{};o[r]=!1,t.update(e,{heartCount:n,heart:o})})))).then((()=>{console.log("Disiked")})).catch((e=>{console.log(e)})):F.runTransaction((t=>t.get(e).then((a=>{if(!a)return void console.log("doc not found");let n=a.data().heartCount+1,o=a.data().heart?a.data().heart:{};o[r]=!0,t.update(e,{heartCount:n,heart:o})})))).then((()=>{console.log("Liked")})).catch((e=>{console.log(e)}))},R=()=>{const e=F.collection("channels").doc(T).collection("messages").doc(a);return C?F.runTransaction((t=>t.get(e).then((a=>{if(!a)return void console.log("doc not found");let n=a.data().fireCount-1,o=a.data().fire?a.data().fire:{};o[r]=!1,t.update(e,{fireCount:n,fire:o})})))).then((()=>{console.log("Disiked")})).catch((e=>{console.log(e)})):F.runTransaction((t=>t.get(e).then((a=>{if(!a)return void console.log("doc not found");let n=a.data().fireCount+1,o=a.data().fire?a.data().fire:{};o[r]=!0,t.update(e,{fireCount:n,fire:o})})))).then((()=>{console.log("Liked")})).catch((e=>{console.log(e)}))},z=()=>{const e=F.collection("channels").doc(T).collection("messages").doc(a);return y?F.runTransaction((t=>t.get(e).then((a=>{if(!a)return void console.log("doc not found");let n=a.data().likeCount-1,o=a.data().likes?a.data().likes:{};o[r]=!1,t.update(e,{likeCount:n,likes:o})})))).then((()=>{console.log("Disiked")})).catch((e=>{console.log(e)})):F.runTransaction((t=>t.get(e).then((a=>{if(!a)return void console.log("doc not found");let n=a.data().likeCount+1,o=a.data().likes?a.data().likes:{};o[r]=!0,t.update(e,{likeCount:n,likes:o})})))).then((()=>{console.log("Liked")})).catch((e=>{console.log(e)}))};return Object($.jsxs)(S.a,{item:!0,xs:12,className:s.root,children:[l?Object($.jsx)(ue,{msgId:a,text:t.text,postImg:w,deleteMsg:e=>{F.collection("channels").doc(T).collection("messages").doc(e).delete().then((e=>{console.log("deleted successfully")})).catch((e=>{console.log(e)}))},handleModal:L}):null,Object($.jsxs)("div",{className:s.paper,onMouseEnter:e=>{c({display:"block"})},onMouseLeave:e=>{c({display:"none"})},children:[Object($.jsx)("div",{className:s.avatar,children:Object($.jsx)(k.a,{alt:t.userName,src:t.userImg,className:s.purple})}),Object($.jsxs)("div",{className:s.chat,children:[Object($.jsxs)("div",{children:[Object($.jsx)("h6",{className:s.chatHeading,children:t.userName}),Object($.jsx)("p",{className:s.chatTimming,children:g})]}),Object($.jsx)("div",{className:s.chatText,children:t.text.split("\n").map(((e,t)=>Object($.jsx)("div",{children:Object($.jsx)(ge.a,{target:"_blank",rel:"noreferrer noopener",children:e})},t)))}),Object($.jsx)(S.a,{item:!0,xs:12,md:12,style:{paddingTop:"5px"},children:w?Object($.jsx)("img",{src:w,alt:"user",style:{height:"30vh",width:"auto",borderRadius:"4px"}}):null}),Object($.jsxs)("div",{style:{paddingTop:"5px",display:"flex"},children:[O>0?Object($.jsx)("div",{style:{padding:"3px"},children:Object($.jsxs)(p.a,{component:"span",onClick:z,className:s.countEmojiBtn,style:I,children:[Object($.jsx)(me.d,{}),Object($.jsx)("div",{style:{paddingLeft:"2px"},children:O})]})}):null,f>0?Object($.jsx)("div",{style:{padding:"3px"},children:Object($.jsxs)(p.a,{component:"span",onClick:R,className:s.countEmojiBtn,style:B,children:[Object($.jsx)(me.b,{}),Object($.jsx)("div",{style:{paddingLeft:"2px"},children:f})]})}):null,v>0?Object($.jsx)("div",{style:{padding:"3px"},children:Object($.jsxs)(p.a,{component:"span",onClick:E,className:s.countEmojiBtn,style:D,children:[Object($.jsx)(me.c,{}),Object($.jsx)("div",{style:{paddingLeft:"2px"},children:v})]})}):null]})]}),Object($.jsx)("div",{className:s.emojiDiv,style:o,children:Object($.jsx)("div",{className:s.emojiDivInner,children:Object($.jsxs)("div",{className:s.allEmoji,children:[Object($.jsx)(p.a,{component:"span",style:{padding:"4px"},onClick:z,children:Object($.jsx)(me.d,{className:s.emojiBtn})}),Object($.jsx)(p.a,{component:"span",style:{padding:"4px"},onClick:R,children:Object($.jsx)(me.b,{className:s.emojiBtn})}),Object($.jsx)(p.a,{component:"span",style:{padding:"4px"},onClick:E,children:Object($.jsx)(me.c,{className:s.emojiBtn})}),r===d?Object($.jsx)(p.a,{component:"span",style:{padding:"4px"},onClick:L,children:Object($.jsx)(me.a,{className:s.emojiBtn,color:"#c3c3c3f0"})}):null]})})})]})]})},ve=a(121),ye=a(124),Ce=a(123),Ne=a(126),ke=a(122),Se=a(242),we=a(248);const Te=Object(i.a)((e=>({displayImage:{height:"105px",width:"180px"},imageName:{paddingLeft:"15px",fontSize:"1.3em"},imageDiv:{marginLeft:"16px",marginRight:"16px",marginTop:"-33px"}})));var Ie=function(e){let{setState:t,file:a}=e;const o=Object(J.g)(),c=Te(),[l,i]=Object(n.useState)(!0),[s,r]=Object(n.useState)(0),[d,j]=Object(n.useState)({display:"none"}),[b,p]=Object(n.useState)(""),h=()=>{i(!1),t()},m=URL.createObjectURL(a),x=e=>{e.preventDefault(),j({display:"block"});const t=G.ref("images/".concat(a.name)).put(a);t.on("state_changed",(e=>{let t=e.bytesTransferred/e.totalBytes*100;r(t)}),(e=>{console.log(e)}),(()=>{t.snapshot.ref.getDownloadURL().then((e=>{(e=>{if(o.id){const t=JSON.parse(localStorage.getItem("userDetails"));if(t){const a=t.displayName,n=t.photoURL,c=t.uid,l=0,i={},s=0,r={},d=0,j={},p=e,h={text:b,timestamp:W.a.firestore.Timestamp.now(),userImg:n,userName:a,uid:c,likeCount:l,likes:i,fireCount:s,fire:r,heartCount:d,heart:j,postImg:p};F.collection("channels").doc(o.id).collection("messages").add(h).then((e=>{console.log("message sent")})).catch((e=>{console.log(e)}))}p("")}})(e)})),h()}))};return Object($.jsx)("div",{children:Object($.jsxs)(_.a,{open:l,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object($.jsxs)("div",{className:c.imageDiv,children:[Object($.jsx)("img",{src:m,alt:a.name,className:c.displayImage}),Object($.jsx)(u.a,{className:c.imageName,children:a.name})]}),Object($.jsx)(Z.a,{id:"alert-dialog-title",children:"Upload Image"}),Object($.jsxs)(Q.a,{children:[Object($.jsx)("form",{autoComplete:"off",onSubmit:e=>{x(e)},children:Object($.jsx)(V.a,{id:"outlined-basic",label:"Add A Message",fullWidth:!0,margin:"normal",variant:"outlined",style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:e=>{p(e.target.value)}})}),Object($.jsx)("div",{style:d,children:Object($.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object($.jsx)(we.a,{width:"100%",mr:1,children:Object($.jsx)(Se.a,{variant:"determinate",value:s})}),Object($.jsx)(we.a,{minWidth:35,children:Object($.jsxs)(u.a,{variant:"body2",children:[Math.round(s),"%"]})})]})})]}),Object($.jsxs)(K.a,{children:[Object($.jsx)(X.a,{onClick:h,style:{color:"white"},children:"Cancel"}),Object($.jsx)(X.a,{type:"submit",onClick:e=>x(e),color:"primary",autoFocus:!0,variant:"contained",children:"Upload"})]})]})})};a(166);const De=Object(i.a)((e=>({root:{flexGrow:1},chat:{position:"relative",height:"calc(100vh - 200px)",paddingLeft:"10px",paddingBottom:"5px",paddingTop:"5px"},footer:{paddingRight:"15px",paddingLeft:"15px",paddingTop:"10px"},message:{width:"100%",color:"white"},roomName:{border:"1px solid #0000004a",borderLeft:0,borderRight:0,padding:"15px",display:"flex",color:"#e5e5e5"},roomNameText:{marginBlockEnd:0,marginBlockStart:0,paddingLeft:"5px"},iconDesign:{fontSize:"1.5em",color:"#e5e5e5"},footerContent:{display:"flex",backgroundColor:"#303753",borderRadius:"5px",alignItems:"center"},inputFile:{display:"none"}})));var Be=function(){const e=De(),t=Object(J.g)(),[a,o]=Object(n.useState)([]),[c,l]=Object(n.useState)(""),[i,s]=Object(n.useState)(""),[r,d]=Object(n.useState)(!1),[j,b]=Object(n.useState)(!1),[h,m]=Object(n.useState)(null);Object(n.useEffect)((()=>{t.id&&(F.collection("channels").doc(t.id).onSnapshot((e=>{l(e.data().channelName)})),F.collection("channels").doc(t.id).collection("messages").orderBy("timestamp","asc").onSnapshot((e=>{o(e.docs.map((e=>({id:e.id,data:e.data()}))))})))}),[t]);const x=()=>{b(!j)};return Object($.jsxs)("div",{className:e.root,children:[j?Object($.jsx)(Ie,{setState:x,file:h}):null,Object($.jsxs)(S.a,{item:!0,xs:12,className:e.roomName,children:[Object($.jsx)(q.a,{className:e.iconDesign}),Object($.jsx)("h3",{className:e.roomNameText,children:c})]}),Object($.jsx)(S.a,{item:!0,xs:12,className:e.chat,children:Object($.jsx)(ve.a,{children:a.map((e=>Object($.jsx)(fe,{values:e.data,msgId:e.id},e.id)))})}),Object($.jsx)("div",{className:e.footer,children:Object($.jsxs)(S.a,{item:!0,xs:12,className:e.footerContent,children:[Object($.jsx)("input",{accept:"image/*",className:e.inputFile,id:"icon-button-file",type:"file",onChange:e=>(e=>{e.preventDefault(),e.target.files[0]&&(m(e.target.files[0]),x()),e.target.value=null})(e)}),Object($.jsx)("label",{htmlFor:"icon-button-file",children:Object($.jsx)(p.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object($.jsx)(ke.a,{style:{color:"#b9bbbe"}})})}),Object($.jsx)(p.a,{color:"primary",component:"button",onClick:()=>d(!r),children:Object($.jsx)(Ce.a,{style:{color:"#b9bbbe"}})}),r?Object($.jsx)(Ne.a,{onSelect:e=>{s(i+e.native)},theme:"dark"}):null,Object($.jsxs)("form",{autoComplete:"off",style:{width:"100%",display:"flex"},onSubmit:e=>(e=>{if(e.preventDefault(),i&&t.id){const e=JSON.parse(localStorage.getItem("userDetails"));if(e){const a=e.displayName,n=e.photoURL,o=e.uid,c=0,l={},s=0,r={},d=0,j={},b=null,p={text:i,timestamp:W.a.firestore.Timestamp.now(),userImg:n,userName:a,uid:o,likeCount:c,likes:l,fireCount:s,fire:r,heartCount:d,heart:j,postImg:b};F.collection("channels").doc(t.id).collection("messages").add(p).then((e=>{console.log("message sent")})).catch((e=>{console.log(e)}))}s(""),d(!1)}})(e),children:[Object($.jsx)(V.a,{className:e.message,required:!0,id:"outlined-basic",label:"Enter Message",variant:"outlined",multiline:!0,rows:1,rowsMax:2,value:i,onChange:e=>{s(e.target.value)}}),Object($.jsx)(p.a,{type:"submit",component:"button",children:Object($.jsx)(ye.a,{style:{color:"#b9bbbe"}})})]})]})})]})},Le=a(125),Ee=a(243),Re=a.p+"static/media/login.820cf094.png";const ze=Object(i.a)((e=>({root:{boxShadow:"0 0 15px rgb(7 15 63 / 33%)",backgroundColor:"#171c30",color:"white"},paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:"25px",paddingTop:"35px"},mainImg:{width:"100%",height:"auto"},submit:{margin:e.spacing(3,0,2),color:"#d9d9d9"}})));var Ae=function(){const e=ze();return Object($.jsx)(Ee.a,{component:"div",maxWidth:"xs",className:e.root,children:Object($.jsxs)("div",{className:e.paper,children:[Object($.jsx)("img",{src:Re,className:e.mainImg,alt:"signup img"}),Object($.jsx)(u.a,{variant:"h4",style:{paddingTop:"15px"},children:"Sign In To Chatify"}),Object($.jsx)(X.a,{variant:"outlined",color:"primary",className:e.submit,startIcon:Object($.jsx)(Le.a,{}),onClick:()=>{P.signInWithPopup(H).then((e=>{console.log("Success")})).catch((e=>{console.log(e)}))},children:"Sign In With Google"})]})})},Me=a(244),Ue=a(245),We=a(246);const He=Object(i.a)((e=>({root:{paddingTop:"50px",paddingBottom:"25px",color:"#f0f0f0"},heading:{fontSize:"2.2em",fontWeight:"700"},subHeading:{fontSize:"1.6em"},channelDiv:{padding:"15px"},channelContent:{display:"flex",flexDirection:"column",textAlign:"center",padding:"20px",alignItems:"center"},square:{height:"80px",width:"80px",backgroundColor:"#8fabbd66",fontSize:"2rem"},rootChannel:{height:"calc(100vh - 185px)",position:"relative",padding:"15px",overflowY:"scroll"},channelText:{paddingTop:"10px",fontSize:"1.2rem"},channelCard:{backgroundColor:"#1e2439",boxShadow:"0px 3px 4px -1px rgb(0 0 0 / 17%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",color:"rgb(220, 221, 222)"}})));var Fe=function(){const e=He(),[t,a]=Object(n.useState)([]),o=Object(J.f)();return Object(n.useEffect)((()=>{F.collection("channels").orderBy("channelName","asc").onSnapshot((e=>{a(e.docs.map((e=>({channelName:e.data().channelName,id:e.id}))))}))}),[]),Object($.jsxs)("div",{style:{backgroundColor:"rgb(34 39 59)"},children:[Object($.jsx)(S.a,{container:!0,className:e.root,children:Object($.jsxs)(S.a,{item:!0,xs:12,style:{textAlign:"center"},children:[Object($.jsx)(u.a,{component:"h1",className:e.heading,children:"Welcome to Chatify"}),Object($.jsx)(u.a,{component:"h1",className:e.subHeading,children:"Effortless live chat to hangout with friends!"})]})}),Object($.jsx)(S.a,{container:!0,className:e.rootChannel,children:t.map((t=>Object($.jsx)(S.a,{item:!0,xs:6,md:3,className:e.channelDiv,children:Object($.jsx)(Me.a,{className:e.channelCard,children:Object($.jsx)(Ue.a,{style:{display:"flex"},onClick:()=>{return e=t.id,void o.push("/channel/".concat(e));var e},children:Object($.jsxs)(We.a,{className:e.channelContent,children:[Object($.jsx)(k.a,{variant:"square",className:e.square,style:{backgroundColor:"#6a9ec066"},children:t.channelName.substr(0,1).toUpperCase()}),Object($.jsx)(u.a,{className:e.channelText,children:t.channelName})]})})})},t.id)))})]})};a(167);const Pe=Object(i.a)((e=>({root:{display:"flex"},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:"#22273b !important",height:"100vh"}})));var Ge=function(){const e=Pe(),[t,a]=Object(n.useState)(null);return Object(n.useEffect)((()=>{P.onAuthStateChanged((e=>{e?(F.collection("users").doc(e.uid).get().then((t=>{if(t.exists)console.log("user exits");else{const t={name:e.displayName,displayName:e.displayName.split(" ")[0],photoURL:e.photoURL,email:e.email,uid:e.uid};F.collection("users").doc(e.uid).set(t).then((e=>{console.log("new user created")})).catch((e=>{console.log(e)}))}})).catch((e=>{console.log(e)})),a(e.uid)):a(null)}))}),[]),Object($.jsx)("div",{className:"App",children:Object($.jsx)(re.a,{children:t?Object($.jsxs)("div",{className:e.root,children:[Object($.jsx)(he,{uid:t}),Object($.jsxs)("main",{className:e.content,children:[Object($.jsx)("div",{className:e.toolbar,style:{minHeight:"50px"}}),Object($.jsxs)(J.c,{children:[Object($.jsx)(J.a,{path:"/",exact:!0,children:Object($.jsx)(Fe,{})}),Object($.jsx)(J.a,{path:"/channel/:id",children:Object($.jsx)(Be,{})})]})]})]}):Object($.jsx)(Ae,{})})})};var Je=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,254)).then((t=>{let{getCLS:a,getFID:n,getFCP:o,getLCP:c,getTTFB:l}=t;a(e),n(e),o(e),c(e),l(e)}))};l.a.render(Object($.jsx)(o.a.StrictMode,{children:Object($.jsx)(Ge,{})}),document.getElementById("root")),Je()}},[[168,1,2]]]);
//# sourceMappingURL=main.e660691a.chunk.js.map